<script setup lang="ts">
import { ref } from 'vue';
import ImgText from './ImgText.vue';
import FlexRatio from './FlexRatio.vue';
import Accordion from './Accordion.vue';
import Cards from './Cards.vue';
import CardItem from './CardItem.vue';
import Panel from './Panel.vue';
import PanelItem from './PanelItem.vue';
import '../RatioKit.scss';
import '../SnippetModal.css';

/**
 * Vue版コンポーネント ギャラリー
 * Preview.tsx と同じ構成で作成しています。
 */

const showModal = ref(false);
const snippet = ref('');
const copyText = ref('Copy');

const flexRef = ref<HTMLElement | null>(null);
const accordionRef = ref<HTMLElement | null>(null);
const panelRef = ref<HTMLElement | null>(null);
const imgTextRef = ref<HTMLElement | null>(null);
const cardsRef = ref<HTMLElement | null>(null);

const formatHTML = (html: string) => {
  let tab = '    ';
  let result = '';
  let indent = '';

  html.replace(/>\s*</g, '>\n<').split('\n').forEach(function(element) {
    element = element.trim();
    if (element.match(/^<\/\w/)) {
      indent = indent.substring(tab.length);
    }
    result += indent + element + '\n';
    if (element.match(/^<\w[^>]*[^\/]>$/) && !element.match(/^<(input|img|br|hr)/)) {
      indent += tab;
    }
  });

  return result.trim();
};

const cleanAttributes = (el: HTMLElement) => {
  const attrs = el.attributes;
  for (let i = attrs.length - 1; i >= 0; i--) {
    if (attrs[i].name.startsWith('data-cursor-') || attrs[i].name.startsWith('data-v-')) {
      el.removeAttribute(attrs[i].name);
    }
  }
  Array.from(el.children).forEach(child => cleanAttributes(child as HTMLElement));
};

const openModal = (sectionRef: { value: HTMLElement | null }, css: string) => {
  if (!sectionRef.value) return;
  const clone = sectionRef.value.cloneNode(true) as HTMLElement;
  
  const btn = clone.querySelector('button');
  if (btn) btn.remove();
  
  cleanAttributes(clone);

  const html = formatHTML(clone.outerHTML);
  const tailwindCdn = '\n\n<!-- <script src="https://cdn.tailwindcss.com"></script> -->';
  snippet.value = html + tailwindCdn + '\n\n<style>\n' + css.trim() + '\n</style>';
  showModal.value = true;
  document.body.style.overflow = 'hidden';
};

const closeModal = () => {
  showModal.value = false;
  copyText.value = 'Copy';
  document.body.style.overflow = '';
};

const handleCopy = () => {
  navigator.clipboard.writeText(snippet.value).then(() => {
    copyText.value = 'Copied!';
    setTimeout(() => copyText.value = 'Copy', 2000);
  });
};

const flexCss = `.wrapper {padding-block: var(--MY, 60px);margin-inline: var(--out, calc(50% - 50vw));max-width: unset;width: unset;position: relative;}
:where(.wrapper) > * {margin-inline: auto;max-width: 100%;}
:where(.wrapper) > * + * {margin-top: var(--MY, 60px);}
.into {padding-inline: var(--into, calc(50vw - clamp(0px, 50vw - var(--PX, 20px), var(--wid, 1080px) / 2)));}
:where(.flex55) > * { width: calc(50% - var(--gap, 30px) / 2); }
.flex46 { --few: 40%; }
:where(.flex46) > :where(:nth-child(1)) { width: calc(var(--few, 40%)); }
:where(.flex46) > :where(:nth-child(2)) { width: calc(100% - var(--few, 40%) - var(--gap, 30px)); }
.flex64 { --few: 40%; }
:where(.flex64) > :where(:nth-child(1)) { width: calc(100% - var(--few, 40%) - var(--gap, 30px)); }
:where(.flex64) > :where(:nth-child(2)) { width: calc(var(--few, 40%)); }
.flex37 { --few: 30%; }
:where(.flex37) > :where(:nth-child(1)) { width: calc(var(--few, 30%)); }
:where(.flex37) > :where(:nth-child(2)) { width: calc(100% - var(--few, 30%) - var(--gap, 30px)); }
.flex73 { --few: 30%; }
:where(.flex73) > :where(:nth-child(1)) { width: calc(100% - var(--few, 30%) - var(--gap, 30px)); }
:where(.flex73) > :where(:nth-child(2)) { width: calc(var(--few, 30%)); }
.flex28 { --few: 20%; }
:where(.flex28) > :where(:nth-child(1)) { width: calc(var(--few, 20%)); }
:where(.flex28) > :where(:nth-child(2)) { width: calc(100% - var(--few, 20%) - var(--gap, 30px)); }
.flex82 { --few: 20%; }
:where(.flex82) > :where(:nth-child(1)) { width: calc(100% - var(--few, 20%) - var(--gap, 30px)); }
:where(.flex82) > :where(:nth-child(2)) { width: calc(var(--few, 20%)); }
:is(.flex55, .flex28, .flex37, .flex46, .flex64, .flex73, .flex82) { gap: var(--gap, 30px); display: -webkit-box; display: -ms-flexbox; display: flex; -ms-flex-wrap: wrap; flex-wrap: wrap; }
:where(:is(.flex55, .flex28, .flex37, .flex46, .flex64, .flex73, .flex82)) img { width: 100%; }
@media (max-width: 767px) { :where(:is(.flex55, .flex28, .flex37, .flex46, .flex64, .flex73, .flex82)):not(.bp-sm) > * { width: 100%; } }
@media (max-width: 639px) { :where(:is(.flex55, .flex28, .flex37, .flex46, .flex64, .flex73, .flex82)):is(.bp-sm) > * { width: 100%; } }`;

const accordionCss = `.wrapper {padding-block: var(--MY, 60px);margin-inline: var(--out, calc(50% - 50vw));max-width: unset;width: unset;position: relative;}
:where(.wrapper) > * {margin-inline: auto;max-width: 100%;}
:where(.wrapper) > * + * {margin-top: var(--MY, 60px);}
.into {padding-inline: var(--into, calc(50vw - clamp(0px, 50vw - var(--PX, 20px), var(--wid, 1080px) / 2)));}
.accordion::details-content { -webkit-transition: height 0.4s ease, content-visibility 0.4s allow-discrete; transition: height 0.4s ease, content-visibility 0.4s allow-discrete; height: 0; overflow: hidden; }
.accordion[open]::details-content { height: auto; }
:where(.accordion) summary { list-style: none; outline: none; cursor: pointer; position: relative; background-color: var(--qBG, var(--bc, #fbf9ef)); padding: 1em; padding-right: 2.5em; -webkit-transition: 0.4s; transition: 0.4s; }
:where(.accordion) summary:hover { opacity: 0.8; }
:where(.accordion) summary::-webkit-details-marker { display: none; }
:where(.accordion) summary:after { content: ">"; font-weight: 900; font-family: var(--icon, inherit); font-size: 1.5em; position: absolute; right: 1em; top: 50%; translate: 0 -50%; -webkit-transition: 0.4s; transition: 0.4s; rotate: 90deg; }
:where(.accordion)[open] summary:after { rotate: -90deg; }
:where(.accordion) > div { position: relative; padding: 1em; background-color: var(--aBG, var(--wh, #fff)); }
:where(.accordion) .has_img { display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -webkit-box-align: center; -ms-flex-align: center; align-items: center; -ms-flex-wrap: wrap; flex-wrap: wrap; gap: 1em; width: 100%; }
:where(.accordion) .has_img figure { max-width: 100%; -webkit-box-ordinal-group: 2; -ms-flex-order: 1; order: 1; width: var(--imgW, 30%); margin-left: auto; }
:where(.accordion) .has_img figure img { width: 100%; height: auto; display: block; }
:where(.accordion) .has_img > div { -webkit-box-flex: 1; -ms-flex: 1; flex: 1; }
@media (max-width: 767px) { :where(.accordion) .has_img:not(.bp-sm) figure { width: 100%; margin-left: unset; } }
@media (max-width: 639px) { :where(.accordion) .has_img:is(.bp-sm) figure { width: 100%; margin-left: unset; } }
:where(.accordion).is_qa summary, :where(.accordion).is_qa > div { padding-left: 4em; }
:where(.accordion).is_qa summary:before, :where(.accordion).is_qa > div:before { content: ""; font-family: var(--bfFF, var(--Eng, var(--Sora, "Sora", sans-serif))); color: var(--bfC, var(--wh, #fff)); background-color: var(--bfBG, var(--mc, #2db542)); display: block; position: absolute; left: 1em; top: 50%; -webkit-transform: translateY(-50%); transform: translateY(-50%); border-radius: var(--bfRad, var(--rad, 0vmin)); width: 2em; aspect-ratio: 1; -ms-flex-line-pack: center; align-content: center; text-align: center; }
:where(.accordion).is_qa summary:before { content: "Q"; }
:where(.accordion).is_qa > div:before { content: "A"; background-color: var(--abfBG, var(--ac, #512db5)); }`;

const panelCss = `.wrapper {padding-block: var(--MY, 60px);margin-inline: var(--out, calc(50% - 50vw));max-width: unset;width: unset;position: relative;}
:where(.wrapper) > * {margin-inline: auto;max-width: 100%;}
:where(.wrapper) > * + * {margin-top: var(--MY, 60px);}
.into {padding-inline: var(--into, calc(50vw - clamp(0px, 50vw - var(--PX, 20px), var(--wid, 1080px) / 2)));}
.panel { position: relative; --mt: var(--MY5, 30px); --p: 1em; --bg: var(--bc, #fbf9ef); --beforeFZ: 75%; --beforeC: var(--mc, #2db542); --afterW: 2em; --afterBG: var(--sc, #3194c9); --imgW: 30%; }
:where(.panel) .item { background-color: var(--bg, var(--bc, #fbf9ef)); counter-increment: cnt; width: 100%; display: -webkit-box; display: -ms-flexbox; display: flex; -ms-flex-wrap: wrap; flex-wrap: wrap; border-radius: var(--rad, 0vmin); padding: var(--p, 1em); gap: var(--gap, 30px); position: relative; }
:where(.panel) .item + .item { margin-top: var(--gap, 30px); }
:where(.panel) .item figure { width: var(--imgW, 30%); }
:where(.panel) .item figure:is(.is_rev *) { -webkit-box-ordinal-group: 0; -ms-flex-order: -1; order: -1; }
:where(.panel) .item figure img { width: 100%; height: auto; display: block; }
:where(.panel) .item > div { -webkit-box-flex: 1; -ms-flex: 1; flex: 1; }
:where(.panel) .item > div .sub { font-size: 0.75em; color: var(--mc, #2db542); margin-right: 0.5em; }
@media (max-width: 767px) { :where(.panel) .item:not(.bp-sm) figure { width: 100%; } }
@media (max-width: 639px) { :where(.panel) .item:is(.bp-sm) figure { width: 100%; } }
:where(.panel).img20 { --imgW: 20%; } :where(.panel).img30 { --imgW: 30%; } :where(.panel).img40 { --imgW: 40%; } :where(.panel).img50 { --imgW: 50%; }
:where(.panel).is_flow .item + .item { margin-top: calc(var(--afterW, 2em) + 2em); }
:where(.panel).is_flow .item:after { content: ""; display: block; position: absolute; top: calc(100% + 1em); left: 50%; -webkit-transform: translateX(-50%); transform: translateY(-50%); width: var(--afterW, 2em); aspect-ratio: 1; background-color: var(--afterBG, var(--sc, #3194c9)); -webkit-clip-path: polygon(0 0%, 50% 85%, 100% 0%); clip-path: polygon(0 0%, 50% 85%, 100% 0%); }
:where(.panel).is_flow .item:last-child:after { display: none; }`;

const imgTextCss = `.wrapper {padding-block: var(--MY, 60px);margin-inline: var(--out, calc(50% - 50vw));max-width: unset;width: unset;position: relative;}
:where(.wrapper) > * {margin-inline: auto;max-width: 100%;}
:where(.wrapper) > * + * {margin-top: var(--MY, 60px);}
.into {padding-inline: var(--into, calc(50vw - clamp(0px, 50vw - var(--PX, 20px), var(--wid, 1080px) / 2)));}
.img_text { display: -webkit-box; display: -ms-flexbox; display: flex; -ms-flex-wrap: wrap; flex-wrap: wrap; -webkit-box-align: start; -ms-flex-align: start; align-items: flex-start; gap: var(--gap, 30px); --imgW: calc(50% - var(--gap, 30px)/2); }
:where(.img_text) figure { width: var(--imgW, calc(50% - var(--gap, 30px)/2)); margin-inline: auto; }
:where(.img_text) figure > a, :where(.img_text) figure img { display: block; width: 100%; height: auto; }
:where(.img_text) > div { -webkit-box-flex: 1; -ms-flex: 1; flex: 1; }
@media (max-width: 767px) { :where(.img_text):not(.bp-sm) figure { -webkit-box-ordinal-group: 2; -ms-flex-order: 1; order: 1; width: 100%; } }
@media (max-width: 639px) { :where(.img_text):is(.bp-sm) figure { -webkit-box-ordinal-group: 2; -ms-flex-order: 1; order: 1; width: 100%; } }
:where(.img_text).is_rev figure { -webkit-box-ordinal-group: 2; -ms-flex-order: 1; order: 1; }
@media (max-width: 767px) { :where(.img_text).is_rev:not(.bp-sm) figure { -webkit-box-ordinal-group: unset; -ms-flex-order: unset; order: unset; } }
@media (max-width: 639px) { :where(.img_text).is_rev:is(.bp-sm) figure { -webkit-box-ordinal-group: unset; -ms-flex-order: unset; order: unset; } }
:where(.img_text).img100 { --imgW: 100%; } :where(.img_text).img95 { --imgW: 95%; } :where(.img_text).img90 { --imgW: 90%; } :where(.img_text).img875 { --imgW: 87.5%; } :where(.img_text).img85 { --imgW: 85%; } :where(.img_text).img80 { --imgW: 80%; } :where(.img_text).img75 { --imgW: 75%; } :where(.img_text).img70 { --imgW: 70%; } :where(.img_text).img66 { --imgW: 66%; } :where(.img_text).img65 { --imgW: 65%; } :where(.img_text).img60 { --imgW: 60%; } :where(.img_text).img55 { --imgW: 55%; } :where(.img_text).img50 { --imgW: 50%; } :where(.img_text).img45 { --imgW: 45%; } :where(.img_text).img40 { --imgW: 40%; } :where(.img_text).img35 { --imgW: 35%; } :where(.img_text).img33 { --imgW: 33%; } :where(.img_text).img30 { --imgW: 30%; } :where(.img_text).img25 { --imgW: 25%; } :where(.img_text).img20 { --imgW: 20%; } :where(.img_text).img10 { --imgW: 10%; }`;

const cardsCss = `.wrapper {padding-block: var(--MY, 60px);margin-inline: var(--out, calc(50% - 50vw));max-width: unset;width: unset;position: relative;}
:where(.wrapper) > * {margin-inline: auto;max-width: 100%;}
:where(.wrapper) > * + * {margin-top: var(--MY, 60px);}
.into {padding-inline: var(--into, calc(50vw - clamp(0px, 50vw - var(--PX, 20px), var(--wid, 1080px) / 2)));}
.cards { display: -webkit-box; display: -ms-flexbox; display: flex; -ms-flex-wrap: wrap; flex-wrap: wrap; gap: var(--gap, 30px); }
:where(.cards) .btn { min-width: 100%; }
:where(.cards) .item { display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: vertical; -webkit-box-direction: normal; -ms-flex-direction: column; flex-direction: column; gap: 1em; margin-top: unset; }
:where(.cards) .item img { width: 100%; }
:where(.cards).is_layer .item { display: grid; }
:where(.cards).is_layer .item > * { grid-area: 1/1; z-index: 1; }
:where(.cards).is_layer .item figure { width: 100%; height: 100%; margin: 0; }
:where(.cards).is_layer .item figure img { height: 100%; -o-object-fit: cover; object-fit: cover; }
:where(.cards).colflex .item { -webkit-box-flex: 1; -ms-flex: 1; flex: 1; width: auto; }
:where(.cards).colfix { --itemW: 240px; }
:where(.cards).colfix .item { width: var(--itemW, 240px); }
:where(.cards).col1 { --itemW: calc((100% - (var(--gap, 30px) * 0)) / 1); } :where(.cards).col1 .item { width: var(--itemW); }
:where(.cards).col2 { --itemW: calc((100% - (var(--gap, 30px) * 1)) / 2); } :where(.cards).col2 .item { width: var(--itemW); }
:where(.cards).col3 { --itemW: calc((100% - (var(--gap, 30px) * 2)) / 3); } :where(.cards).col3 .item { width: var(--itemW); }
:where(.cards).col4 { --itemW: calc((100% - (var(--gap, 30px) * 3)) / 4); } :where(.cards).col4 .item { width: var(--itemW); }
:where(.cards).col5 { --itemW: calc((100% - (var(--gap, 30px) * 4)) / 5); } :where(.cards).col5 .item { width: var(--itemW); }
:where(.cards).col6 { --itemW: calc((100% - (var(--gap, 30px) * 5)) / 6); } :where(.cards).col6 .item { width: var(--itemW); }
@media (max-width: 767px) { :where(.cards):not(.bp-sm) > .item { width: calc(50% - var(--gap, 30px) / 2); -webkit-box-flex: unset; -ms-flex: unset; flex: unset; } }
@media (max-width: 639px) { :where(.cards):is(.bp-sm) > .item { width: calc(50% - var(--gap, 30px) / 2); -webkit-box-flex: unset; -ms-flex: unset; flex: unset; } }
@media (max-width: 479px) { :where(.cards):not(.min2) > .item { width: 100%; } }`;
</script>

<template>
  <div v-if="showModal" id="snippetModal" class="active" @click="closeModal">
    <div class="code-editor" @click.stop>
      <div class="code-header">
        <button class="copy-btn" @click="handleCopy">{{ copyText }}</button>
        <button class="close-btn" @click="closeModal">Close</button>
      </div>
      <div class="code-content">{{ snippet }}</div>
    </div>
  </div>

  <main class="py-16 PX font-sora" id="contents">
    <h1 class="mx-auto">Vue Gallery</h1>

    <!-- FlexRatio Preview -->
    <section class="mt-8" ref="flexRef">
      <div class="border-b-4 border-gray-400">
        <h2 class="">FlexRatio
          <button @click="openModal(flexRef, flexCss)" class="float-right text-sm bg-gray-100 hover:bg-gray-200 text-gray-600 py-1 px-3 rounded transition-colors border border-gray-300 mt-1">snippet</button>
        </h2>
      </div>
      <div class="mt-6">
        <h3>1. className="flex55 mt-3"</h3>
        <FlexRatio class-name="flex55 mt-3">
          <div class="p-4 bg-gray-200">Left Content (50%)</div>
          <div class="p-4 bg-gray-300">Right Content (50%)</div>
        </FlexRatio>
      </div>
      <div class="mt-6">
        <h3>2. className="flex46 mt-3"</h3>
        <FlexRatio class-name="flex46 mt-3">
          <div class="p-4 bg-blue-200">Left Content (40%)</div>
          <div class="p-4 bg-blue-300">Right Content (60%)</div>
        </FlexRatio>
      </div>
      <div class="mt-6">
        <h3>3. className="flex73 bp-sm mt-3"</h3>
        <FlexRatio class-name="flex73 bp-sm mt-3">
          <div class="p-4 bg-green-100">Left Content(70%)</div>
          <div class="p-4 bg-green-200">Right Content(30%)</div>
        </FlexRatio>
      </div>
    </section>

    <!-- Accordion Preview -->
    <section class="wrapper into bg-green-100" ref="accordionRef">
      <h2 class="border-b-4 border-gray-400">Accordion
        <button @click="openModal(accordionRef, accordionCss)" class="float-right text-sm bg-gray-100 hover:bg-gray-200 text-gray-600 py-1 px-3 rounded transition-colors border border-gray-300 mt-1">snippet</button>
      </h2>
      <div class="mt-6">
        <h3>1. className="accordion mt-3"</h3>
        <Accordion 
          class-name="mt-3"
          title="クリックして詳細を表示（基本形）"
        >
          <p>汎用的なアコーディオンですQ&A以外の用途（利用規約や補足説明など）に最適です</p>
        </Accordion>
      </div>
      <div class="mt-6">
        <h3>2. className="accordion is_qa mt-3"</h3>
        <Accordion 
          class-name="is_qa mt-3"
          title="Q&Aスタイルの質問テキストです"
        >
          <p>is_qaクラスを付与することで、Q&Aのアイコンが表示されます</p>
        </Accordion>
      </div>
      <div class="mt-6">
        <h3>3. className="accordion is_qa mt-3"</h3>
        <Accordion 
          class-name="is_qa mt-3"
          title="画像付きの質問です"
        >
          <template #figure>
            <img src="https://picsum.photos/id/60/400/300" alt="" />
          </template>
          <p>回答部分に画像を表示する例ですPCでは横並び、スマホでは縦並びになります</p>
        </Accordion>
      </div>
    </section>

    <!-- Panel Preview -->
    <section class="" ref="panelRef">
      <h2 class="border-b-4 border-gray-400">Panel
        <button @click="openModal(panelRef, panelCss)" class="float-right text-sm bg-gray-100 hover:bg-gray-200 text-gray-600 py-1 px-3 rounded transition-colors border border-gray-300 mt-1">snippet</button>
      </h2>
      <div class="mt-6">
        <h3>1. className="panel is_flow img20 mt-3"</h3>
        <Panel class-name="is_flow img20 mt-3">
          <PanelItem>
            <template #figure>
              <img src="https://picsum.photos/id/103/400/300" alt="" />
            </template>
            <h4><span class="sub text-[--sc]">STEP 01</span>お問い合わせ</h4>
            <p>is_flowクラスとimg20クラスを付与した例です</p>
          </PanelItem>
          <PanelItem class-name="is_rev">
            <template #figure>
              <img src="https://picsum.photos/id/104/400/300" alt="" />
            </template>
            <h4><span class="sub text-[--sc]">STEP 02</span>ヒアリング</h4>
            <p>お客様のご要望を詳しくお伺いし、最適なプランをご提案いたします</p>
          </PanelItem>
        </Panel>
      </div>
    </section>

    <!-- ImgText Preview -->
    <section class="wrapper into bg-purple-100" ref="imgTextRef">
      <h2 class="border-b-4 border-gray-400">ImgText
        <button @click="openModal(imgTextRef, imgTextCss)" class="float-right text-sm bg-gray-100 hover:bg-gray-200 text-gray-600 py-1 px-3 rounded transition-colors border border-gray-300 mt-1">snippet</button>
      </h2>
      <div class="mt-6">
        <ImgText class-name="bp-sm mt-3">
          <template #figure>
            <img src="https://picsum.photos/id/10/400/300" alt="" />
          </template>
          <h3>1. className="img_text bp-sm mt-3"</h3>
          <p>基本ブレイクポイントはTailwindのmax-md(767px)<br />
             bp-smクラスでmax-sm(639px)に変更できます
          </p>
        </ImgText>
      </div>
      <div class="mt-6">
        <ImgText class-name="bp-sm img30 is_rev mt-3">
          <template #figure>
            <img src="https://picsum.photos/id/20/400/300" alt="" />
          </template>
          <h3>2. className="img_text bp-sm img30 is_rev mt-3"</h3>
          <p>画像30%指定かつ左右反転 </p>
        </ImgText>
      </div>
    </section>

    <!-- Cards Preview -->
    <section class="" ref="cardsRef">
      <h2 class="border-b-4 border-gray-400">Cards
        <button @click="openModal(cardsRef, cardsCss)" class="float-right text-sm bg-gray-100 hover:bg-gray-200 text-gray-600 py-1 px-3 rounded transition-colors border border-gray-300 mt-1">snippet</button>
      </h2>
      <div class="mt-6">
        <h3>1. className="cards col3 justify-center mt-3"</h3>
        <Cards class-name="col3 justify-center mt-3">
          <CardItem v-for="i in [1, 2, 3]" :key="i" class-name="sheet">
            <template #figure>
              <img src="https://picsum.photos/id/10/400/250" alt="" />
            </template>
            <h4>Card {{ i }}</h4>
            <p>col? でPCカラム数指定。max-mdで全種2カラム、max-xs(479px)で1カラムに</p>
          </CardItem>
        </Cards>
      </div>

      <div class="mt-6">
        <h3>2. className="cards col4 min2 justify-center mt-3"</h3>
        <Cards class-name="col4 min2 justify-center mt-3">
          <CardItem v-for="i in [1, 2, 3, 4]" :key="i" class-name="board">
            <template #figure>
              <img src="https://picsum.photos/id/20/400/250" alt="" />
            </template>
            <h4>Card {{ i }}</h4>
            <p>min2指定によりスマホサイズでも2列を維持します</p>
          </CardItem>
        </Cards>
      </div>

      <div class="mt-6">
        <h3>3. className="cards col3 is_layer justify-center mt-3"</h3>
        <Cards class-name="col3 is_layer justify-center mt-3">
          <CardItem v-for="pos in ['items-center', 'self-center', 'self-end']" :key="pos">
            <template #figure>
              <img src="https://picsum.photos/id/30/600/600" alt="" />
            </template>
            <div :class="['bg-black/50 text-white p-5 flex flex-col justify-center', pos]">
              <h4 class="text-white">Layer</h4>
              <p>画像の上に重なるレイヤー構造です</p>
            </div>
          </CardItem>
        </Cards>
      </div>

      <div class="mt-6">
        <h3>4. className="cards colflex mt-3"</h3>
        <Cards class-name="colflex mt-3">
          <CardItem v-for="i in [1, 2, 3]" :key="i" class-name="bg-gray-100 p-4 rounded">
            <h4>Flexible {{ i }}</h4>
            <p>均等に広がります</p>
          </CardItem>
        </Cards>
      </div>

      <div class="mt-6">
        <h3>5. className="cards colfix" style="--itemW: 200px" </h3>
        <Cards class-name="colfix mt-3 justify-center" :style="{ '--itemW': '200px' }">
          <CardItem v-for="i in [1, 2, 3, 4]" :key="i" class-name="bg-gray-100 p-4 rounded">
            <h4>Fixed {{ i }}</h4>
            <p>--itemW:固定幅</p>
          </CardItem>
        </Cards>
      </div>
    </section>
  </main>
</template>
